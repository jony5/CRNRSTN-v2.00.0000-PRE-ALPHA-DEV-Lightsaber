<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>CRNRSTN :: Code Example</title></head><body><p>While this example may be crude, it makes the point quite well. The web services call on line 48 has its various forms of output being thrown to the screen on lines 52-72.</p><div id="example_scrollto_0" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://127.0.0.1/crnrstn.jony5.com/documentation/classes/soap_manager/returnclientrequest/?m=1777a53f666dfc67844c');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_a0dfc1906e7db3e4be4c_0" class="code_wrapper"><div id="lineNum_5595" class="l_num">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br><span CLASS="code_comment">
/* </span><br><span CLASS="code_comment">
// J5</span><br>
<span CLASS="code_comment">// Code is Poetry */</span><br>
<br>
<span id="960a760d0d8d8b8f4803_21208j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">class</span> user{<br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_7585j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> $svc_resp_ARRAY = <span id="d3b3ef3a4ad62b6d8bdc_j0000010123494" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span>();<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_6023j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j0000010122196" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $oUserEnvironment;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_29405j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j0000010128242" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $oSoapManager;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_9507j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j0000010110784" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $params;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_24537j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001017582" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $methodName;<br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_28799j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> $errorMessage;<br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_18508j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> $successMessage;<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_8341j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j0000010130122" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $frm_input_username;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_5531j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001017480" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $frm_input_password;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_12561j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j0000010117014" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $frm_input_sessionpersist;<br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_28791j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j0000010121732" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> __construct($userEnv) {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// STORE PERSONAL COPY OF CRNRSTN ENVIRONMENTALS :: CLASS OBJECT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$oUserEnvironment = $userEnv;<br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// INSTANTIATE WEB SERVICES MANAGER TO FACILITATE LOGIN REQUEST</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$oSoapManager = <span id="f109c58b6897e5839fe2_19789j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> soap_manager(self::$oUserEnvironment);<br>
<br>
<span CLASS="tab">&nbsp;</span>}<br>
<br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_4098j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j000001017443" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> login(){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// STORE AND STANDARDIZE FORM POST DATA IN STATIC PARAMS FOR PROECSSING</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$frm_input_username = self::$oUserEnvironment-&gt;oHTTP_MGR-&gt;extractData(<span id="cf15b07c236d3fcbcfd6_23376j000001011" class="code_html_doc_type_tag" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_POST</span>, <span class="code_str_qtd">'un'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$frm_input_password = <span id="772cf4336b215c014188_29001j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">md5</span>(self::$oUserEnvironment-&gt;oHTTP_MGR-&gt;extractData(<span id="cf15b07c236d3fcbcfd6_j0000010110830" class="code_html_doc_type_tag" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_POST</span>, <span class="code_str_qtd">'pwd'</span>));<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$frm_input_sessionpersist = self::$oUserEnvironment-&gt;oHTTP_MGR-&gt;extractData(<span id="cf15b07c236d3fcbcfd6_30575j000001011" class="code_html_doc_type_tag" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_POST</span>, <span class="code_str_qtd">'login_persist'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// STORE USERNAME IN SESSION FOR FORM PREPOPULATION AFTER BAD LOGIN ATTEMPT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$oUserEnvironment-&gt;oSESSION_MGR-&gt;setSessionParam(<span class="code_str_qtd">'FORM_UN'</span>, self::$frm_input_username);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// STANDARDIZE REQUEST FOR SESSION PERSIST</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_23676j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(<span id="f5ffe7a31a8e65e25e6a_j0000010122789" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strlen</span>(self::$frm_input_sessionpersist)&gt;5){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$frm_input_sessionpersist = 1;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PASS UN, PWD &amp; SESSION_PERSIST TO PRIVATE METHOD FOR WEB SERVICES REQUEST</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$this-&gt;svc_resp_ARRAY = $this-&gt;services_loginCheck(self::$frm_input_username,self::$frm_input_password,self::$frm_input_sessionpersist);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// OUTPUT WEB SERVICES REQUEST INFO</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_7514j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;div class=&quot;cb_15&quot;&gt;&lt;/div&gt;&lt;h3 class=&quot;content_results_subtitle&quot;&gt;SOAP Request Details ::&lt;/h3&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_7051j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;hr&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_17512j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;p&gt;&lt;pre style=&quot;font-size:10px;overflow:scroll;border-bottom:2px solid #333;padding-bottom:10px;height:100px;&quot;&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_129j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span id="d1fcea4158c783e8e86b_j0000010113606" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">htmlspecialchars</span>(self::$oSoapManager-&gt;returnClientRequest(), ENT_QUOTES);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_25959j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;/pre&gt;&lt;/p&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// OUTPUT WEB SERVICES RESPONSE INFO</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_16148j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;h3 class=&quot;content_results_subtitle&quot;&gt;SOAP Response Details ::&lt;/h3&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_9149j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;hr&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_32178j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;p&gt;&lt;pre style=&quot;font-size:10px;overflow:scroll;border-bottom:2px solid #333;padding-bottom:10px;height:100px;&quot;&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_28931j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span id="d1fcea4158c783e8e86b_j0000010114464" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">htmlspecialchars</span>(self::$oSoapManager-&gt;returnClientResponse(), ENT_QUOTES);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_16057j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;/pre&gt;&lt;/p&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// OUTPUT WEB SERVICES DEBUG INFO<span CLASS="tab">&nbsp;</span></span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_17150j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;h3 class=&quot;content_results_subtitle&quot;&gt;SOAP Debug ::&lt;/h3&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_6751j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;hr&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_23724j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;p&gt;&lt;pre style=&quot;font-size:10px;overflow:scroll;border-bottom:2px solid #333;padding-bottom:10px;height:100px;&quot;&gt;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_3445j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span id="d1fcea4158c783e8e86b_j000001014362" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">htmlspecialchars</span>(self::$oSoapManager-&gt;returnClientGetDebug(), ENT_QUOTES);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_32123j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">'&lt;/pre&gt;&lt;/p&gt;'</span>;<br>
<br>
<span CLASS="code_comment">#...etc.</span><br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><div class="example_title_wrapper"><code style="color:#FF0000;">Figure 55.</code></div><div class="cb_15"></div><div class="comment_tt_wrapper"><span id="960a760d0d8d8b8f4803_0984453001415767093j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">class</span> <span class="code_tt_space">&nbsp;</span><span id="a5a78fdbd379ad0fba15_0037140001415767094j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span class="code_tt_space">&nbsp;</span><span id="d3b3ef3a4ad62b6d8bdc_j000001010048441001415767094" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span> <span class="code_tt_space">&nbsp;</span><span id="02d8f1524c3ba5ffa677_0104363001415767094j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span class="code_tt_space">&nbsp;</span><span id="719dc38910f731c12940_j000001010111564001415767094" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> <span class="code_tt_space">&nbsp;</span><span id="2a824b20b18cc45dbde0_j000001010725327001415767094" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> <span class="code_tt_space">&nbsp;</span><span id="f109c58b6897e5839fe2_0501811001415767095j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> <span class="code_tt_space">&nbsp;</span><span id="cf15b07c236d3fcbcfd6_0054518001415767096j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_POST</span> <span class="code_tt_space">&nbsp;</span><span id="772cf4336b215c014188_0157549001415767096j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">md5</span> <span class="code_tt_space">&nbsp;</span><span id="e43e09b42c84b845c5a9_0937231001415767096j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> <span class="code_tt_space">&nbsp;</span><span id="f5ffe7a31a8e65e25e6a_j000001010950314001415767096" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strlen</span> <span class="code_tt_space">&nbsp;</span><span id="d5086e9d793d631ffdc3_0080314001415767098j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_tt_space">&nbsp;</span><span id="d1fcea4158c783e8e86b_j000001010343253001415767098" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">htmlspecialchars</span> <span class="code_tt_space">&nbsp;</span></div><div class="cb_15"></div></body></html>