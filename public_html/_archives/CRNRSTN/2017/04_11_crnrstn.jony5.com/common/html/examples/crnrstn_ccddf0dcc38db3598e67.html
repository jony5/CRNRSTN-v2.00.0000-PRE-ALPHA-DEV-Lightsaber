<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>CRNRSTN :: Code Example</title></head><body><p>The following excerpts from the database_integration :: class definition present a high level picture of the database specific components necessary for the generation of automatic search suggestions for the search functionality of a website.<br />
<br />
For the complete definition of the database_integration :: class used in this example, please check out the documentation and examples associated with the <a href="../../../classes/mysqli_conn_manager/" target="_self">mysqli_conn_manager</a>. To see more on the web services layer responsible for facilitating this use case, see the "searchResultsSuggest" case statement (line 121) of the webservice_manager class definition associated with the documentation and examples for the <a href="../../../classes/soap_manager/returncontent/">returnContent()</a> method of the C<span class="the_R">R</span>NRSTN <a href="../../../classes/soap_manager/" target="_self">soap_manager</a> :: class object <a href="../../../classes/soap_manager/returncontent/" target="_self">here</a>.</p><div id="example_scrollto_0" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://192.168.172.132/crnrstn/documentation/classes/mysqli_conn_manager/processmultiquery/?ns=mysqli_conn_manager');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_ccddf0dcc38db3598e67_0" class="code_wrapper"><div id="lineNum_168864296" class="l_num">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br><span CLASS="code_comment">
/* </span><br><span CLASS="code_comment">
// J5</span><br>
<span CLASS="code_comment">// Code is Poetry */</span><br>
<br>
<span id="960a760d0d8d8b8f4803_390903100j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">class</span> database_integration {<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_608284503j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001011956645975" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $oLogger;<br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_933612470j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j00000101966320281" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $query;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_208409414j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001011876387838" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $query_elements;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_1739626693j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001011895774627" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $result;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_941265470j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001011220684166" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $result_ARRAY = <span id="d3b3ef3a4ad62b6d8bdc_j000001011287207134" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span>();<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_25276541j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j00000101239963525" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $fieldName_ARRAY = <span id="d3b3ef3a4ad62b6d8bdc_j00000101646506466" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span>();<br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_1113556964j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j000001012118613532" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> __construct() {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// INSTANTIATE LOGGER</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_1731074343j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(!<span id="8a854f2276292f7697c0_j000001011912332972" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">isset</span>(self::$oLogger)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$oLogger = <span id="f109c58b6897e5839fe2_1152068363j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> logging();<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span>}<br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// USER SERVICES REQUEST TO RETRIEVE SUGGESTED SEARCH RESULTS</span><br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_1402326747j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j00000101220434248" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> svc_searchResultsSuggest($oUser, $oUserEnvironment, $contentType){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="b0240c0e5329b517611f_273968123j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> $this-&gt;dbQuery(<span class="code_str_qtd">'svc_suggestSearch'</span>, $oUserEnvironment, $oUser);<br>
<span CLASS="tab">&nbsp;</span>}<br>
<br>
<span CLASS="code_comment">#...etc.</span><br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><blockquote>The <a href="../../../classes/mysqli_conn_manager/" target="_self">mysqli_conn_manager</a> :: class objects' <a href="../../../classes/mysqli_conn_manager/returnconnection/" target="_self">returnConnection()</a> method is invoked on line 41 below in order to acquire a $mysqli handle for a MySQL database connection.<br />
<br />
Due to the fact that the configuration of the C<span class="the_R">R</span>NRSTN<a> Suite :: in this example leveraged the <a href="../../../classes/crnrstn/adddatabase/" target="_self">addDatabase()</a> method of the <a href="../../../classes/crnrstn/" target="_self">crnrstn</a> :: class object to establish all parameters necessary for database authentication, in this example...a successful connection is able to be returned by passing only host and database name to the <a href="../../../classes/mysqli_conn_manager/returnconnection/" target="_self">returnConnection()</a> method.</blockquote><div id="example_scrollto_1" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://192.168.172.132/crnrstn/documentation/classes/mysqli_conn_manager/processmultiquery/?ns=mysqli_conn_manager');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_ccddf0dcc38db3598e67_1" class="code_wrapper"><div id="lineNum_2079989829" class="l_num">33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br>
<span CLASS="code_comment">#...etc.</span><br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PROCESS QUERY PER REQUEST</span><br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_770860180j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="2a824b20b18cc45dbde0_j000001011206468120" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> dbQuery($queryType, $oUserEnvironment, $oUser){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="2b377a23c22576d4ae5a_2079596585j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">try</span>{<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$ts = <span id="d4830d469964080b55ca_673379530j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">date</span>(<span class="code_str_qtd">"Y-m-d H:i:s"</span>, <span id="0e7d9dc9993d0bba7c74_962301909j00000101" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">time</span>()-60*60*6);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$mysqli = $oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;returnConnection(<span class="code_str_qtd">'localhost'</span>, <span class="code_str_qtd">'crnrstn_stage'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e03b0e0956383a796e22_1275087349j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span>($queryType){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="51b9236800eb72e9397c_842243827j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_str_qtd">'svc_suggestSearch'</span>:<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query = <span class="code_str_qtd">''</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$skip_str_ARRAY = <span id="d3b3ef3a4ad62b6d8bdc_1353205009j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span>(<span class="code_str_qtd">'a'</span>, <span class="code_str_qtd">'the'</span>, <span class="code_str_qtd">'i'</span>, <span class="code_str_qtd">'and'</span>, <span class="code_str_qtd">'but'</span>);<br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$tmp_search_params = $oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'SEARCH_PARAM'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$pos = <span id="2a885993352e89789e64_1883371852j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strpos</span>($tmp_search_params, <span class="code_str_qtd">'&quot;'</span>);<br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><blockquote> And now, the batch of query strings for pulling search suggestions from the relevant tables (concatenated together and delimited with semi-colon) will be created to be processed as a single multiquery statement:</blockquote><div id="example_scrollto_2" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://192.168.172.132/crnrstn/documentation/classes/mysqli_conn_manager/processmultiquery/?ns=mysqli_conn_manager');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_ccddf0dcc38db3598e67_2" class="code_wrapper"><div id="lineNum_651406154" class="l_num">52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_139333831j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>($pos===false){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// SEARCH ON INDIVIDUAL WORDS</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$tmp_search_param_ARRAY = <span id="530ec2d634902de83c9f_702208485j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">explode</span>(<span class="code_str_qtd">' '</span>,$mysqli-&gt;real_escape_string($tmp_search_params));<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// BUILD QUERY</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="9c79be84cf595ca0ad6a_859815569j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">foreach</span>($tmp_search_param_ARRAY as $key=&gt;$val){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_2015721669j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(!<span id="701dd6f2893aff641f80_j00000101294351530" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">in_array</span>($val, $skip_str_ARRAY)){<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `crnrstn_class`.`NAME`, `crnrstn_class`.`DESCRIPTION` FROM `crnrstn_class` WHERE `crnrstn_class`.`NAME` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `crnrstn_class`.`DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `NAME`,`DESCRIPTION` FROM `crnrstn_method` WHERE `NAME` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `DEFINITION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `RETURNED_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `TITLE`,`DESCRIPTION` FROM `crnrstn_examples` WHERE `TITLE_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `EXAMPLE_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `crnrstn_params`.`NAME`,`crnrstn_params`.`DESCRIPTION` FROM `crnrstn_params` WHERE `crnrstn_method`.`NAME` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `crnrstn_method`.`DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `crnrstn_techspecs`.`NAME` FROM `crnrstn_techspecs` WHERE `crnrstn_techspecs`.`TECHSPEC_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<span id="e065810be95e4c37e63c_608106548j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span>{<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$val = $mysqli-&gt;real_escape_string($tmp_search_params);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_809503491j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(!<span id="701dd6f2893aff641f80_j000001011515035697" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">in_array</span>($val, $skip_str_ARRAY)){<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `crnrstn_class`.`NAME`, `crnrstn_class`.`DESCRIPTION`,`crnrstn_class`.`URI` FROM `crnrstn_class` WHERE `crnrstn_class`.`NAME` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `crnrstn_class`.`DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `NAME`,`DESCRIPTION` FROM `crnrstn_method` WHERE `NAME` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `DEFINITION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `RETURNED_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `TITLE`,`DESCRIPTION` FROM `crnrstn_examples` WHERE `TITLE_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `EXAMPLE_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `crnrstn_params`.`NAME`,`crnrstn_params`.`DESCRIPTION` FROM `crnrstn_params` WHERE `crnrstn_method`.`NAME` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot; OR `crnrstn_method`.`DESCRIPTION_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query .= <span class="code_str_qtd">'SELECT `crnrstn_techspecs`.`NAME` FROM `crnrstn_techspecs` WHERE `crnrstn_techspecs`.`TECHSPEC_SEARCH` LIKE &quot;%'</span>.$val.<span class="code_str_qtd">'%&quot;;'</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><blockquote>At this time, the multiquery statement has been prepared; now...to process via the invocation of <a href="../../../classes/mysqli_conn_manager/processmultiquery/" target="_self">processMultiQuery()</a> and return the result!</blockquote><div id="example_scrollto_3" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://192.168.172.132/crnrstn/documentation/classes/mysqli_conn_manager/processmultiquery/?ns=mysqli_conn_manager');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_ccddf0dcc38db3598e67_3" class="code_wrapper"><div id="lineNum_1895313682" class="l_num">83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br>94<br>95<br>96<br>97<br>98<br>99<br>100<br>101<br>102<br>103<br>104<br>105<br>106<br>107<br>108<br>109<br>110<br>111<br>112<br>113<br>114<br>115<br>116<br>117<br>118<br>119<br>120<br>121<br>122<br>123<br>124<br>125<br>126<br>127<br>128<br>129<br>130<br>131<br>132<br>133<br>134<br>135<br>136<br>137<br>138<br>139<br>140<br>141<br>142<br>143<br>144<br>145<br>146<br>147<br>148<br>149<br>150<br>151<br>152<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span> <br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PROCESS QUERY</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$result = $oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;processMultiQuery($mysqli, self::$query);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_834780033j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>($mysqli-&gt;error){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="6b7e9d5e9a9a8c5b887c_1754999222j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">throw</span> <span id="f109c58b6897e5839fe2_j00000101394336500" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> Exception(<span class="code_str_qtd">'CRNRSTN database_integration :: '</span>.$queryType.<span class="code_str_qtd">' ERROR :: ['</span>.$mysqli-&gt;error.<span class="code_str_qtd">']'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<span id="e065810be95e4c37e63c_1948336997j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span>{<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// REMAIN STILL WHILE YOUR LIFE IS EXTRACTED</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$ROWCNT=0;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="872cfc9a1081865422ac_1726129106j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">do</span> {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_2125410843j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> (self::$result = $mysqli-&gt;store_result()) {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="6db63a87b4fbbd1f1255_1713186321j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">while</span> ($row = self::$result-&gt;fetch_row()) {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="9c79be84cf595ca0ad6a_730713821j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">foreach</span>($row as $fieldPos=&gt;$value){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// STORE RESULT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$result_ARRAY[$ROWCNT][$fieldPos]=$value;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$ROWCNT++;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$result-&gt;free();<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_1380253943j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> ($mysqli-&gt;more_results()) {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// END OF RECORD. MORE TO FOLLOW.</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>} <span id="6db63a87b4fbbd1f1255_1933620570j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">while</span> ($mysqli-&gt;next_result());<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// CLOSE CONNECTION</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;closeConnection($mysqli);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// RETURN RESULT SET ARRAY</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="b0240c0e5329b517611f_1004681944j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> self::$result_ARRAY;<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_1312760124j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span><br>
<span CLASS="code_comment">#...etc.</span><br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>default:<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// HOOOSTON...VE HAF PROBLEM!</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="6b7e9d5e9a9a8c5b887c_556997102j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">throw</span> <span id="f109c58b6897e5839fe2_j0000010163666416" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> Exception(<span class="code_str_qtd">'Key provided for dbQuery() does not exist in the system.'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_1244873061j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<span id="149d7ffebeb55ab05d07_1230376632j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">catch</span>( Exception $e ) {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// SEND THIS THROUGH THE LOGGER OBJECT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$oLogger-&gt;captureNotice(<span class="code_str_qtd">'database_integration-&gt;dbQuery()'</span>, <span id="1167c87443e132c6048b_1025968325j00000101" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">LOG_EMERG</span>, $e-&gt;getMessage());<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;closeConnection($mysqli);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="b0240c0e5329b517611f_372476763j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> <span id="9c13212eecace0e8b16a_j000001012072620459" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">false;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// IF WE GET THIS FAR...</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;closeConnection($mysqli);<br>
<span CLASS="tab">&nbsp;</span>}<br>
<br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_231689686j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j00000101108364967" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> __destruct() {<br>
<br>
<span CLASS="tab">&nbsp;</span>}<br>
}<br>
<br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><div class="example_title_wrapper"><code style="color:#FF0000;">Figure 24.</code></div><div class="cb_15"></div><div class="comment_tt_wrapper"><span id="960a760d0d8d8b8f4803_0504415001459923643j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">class</span> <span class="code_tt_space">&nbsp;</span><span id="02d8f1524c3ba5ffa677_0535734001459923643j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span class="code_tt_space">&nbsp;</span><span id="719dc38910f731c12940_j000001010540768001459923643" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> <span class="code_tt_space">&nbsp;</span><span id="d3b3ef3a4ad62b6d8bdc_j000001010728119001459923643" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span> <span class="code_tt_space">&nbsp;</span><span id="a5a78fdbd379ad0fba15_0836754001459923643j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span class="code_tt_space">&nbsp;</span><span id="2a824b20b18cc45dbde0_j000001010838946001459923643" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> <span class="code_tt_space">&nbsp;</span><span id="e43e09b42c84b845c5a9_0039861001459923644j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> <span class="code_tt_space">&nbsp;</span><span id="8a854f2276292f7697c0_j000001010043238001459923644" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">isset</span> <span class="code_tt_space">&nbsp;</span><span id="f109c58b6897e5839fe2_0139385001459923644j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> <span class="code_tt_space">&nbsp;</span><span id="b0240c0e5329b517611f_0444906001459923644j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> <span class="code_tt_space">&nbsp;</span><span id="2b377a23c22576d4ae5a_0747417001459923644j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">try</span> <span class="code_tt_space">&nbsp;</span><span id="d4830d469964080b55ca_0827915001459923644j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">date</span> <span class="code_tt_space">&nbsp;</span><span id="0e7d9dc9993d0bba7c74_0832409001459923644j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">time</span> <span class="code_tt_space">&nbsp;</span><span id="e03b0e0956383a796e22_0017017001459923645j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span> <span class="code_tt_space">&nbsp;</span><span id="51b9236800eb72e9397c_0120520001459923645j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_tt_space">&nbsp;</span><span id="2a885993352e89789e64_0660572001459923645j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strpos</span> <span class="code_tt_space">&nbsp;</span><span id="530ec2d634902de83c9f_0432722001459923646j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">explode</span> <span class="code_tt_space">&nbsp;</span><span id="9c79be84cf595ca0ad6a_0120048001459923647j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">foreach</span> <span class="code_tt_space">&nbsp;</span><span id="701dd6f2893aff641f80_j000001010326081001459923647" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">in_array</span> <span class="code_tt_space">&nbsp;</span><span id="e065810be95e4c37e63c_0931773001459923648j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span> <span class="code_tt_space">&nbsp;</span><span id="6b7e9d5e9a9a8c5b887c_0268416001459923651j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">throw</span> <span class="code_tt_space">&nbsp;</span><span id="872cfc9a1081865422ac_0223142001459923652j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">do</span> <span class="code_tt_space">&nbsp;</span><span id="6db63a87b4fbbd1f1255_0630078001459923652j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">while</span> <span class="code_tt_space">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_0980571001459923657j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span> <span class="code_tt_space">&nbsp;</span><span id="149d7ffebeb55ab05d07_0772532001459923658j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">catch</span> <span class="code_tt_space">&nbsp;</span><span id="1167c87443e132c6048b_0123361001459923659j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">LOG_EMERG</span> <span class="code_tt_space">&nbsp;</span><span id="9c13212eecace0e8b16a_j000001010307727001459923659" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">false;</span> <span class="code_tt_space">&nbsp;</span></div><div class="cb_15"></div></body></html>