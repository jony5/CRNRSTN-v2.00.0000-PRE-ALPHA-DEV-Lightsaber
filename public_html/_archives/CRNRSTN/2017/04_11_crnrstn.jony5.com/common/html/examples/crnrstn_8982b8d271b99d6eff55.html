<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>CRNRSTN :: Code Example</title></head><body><p>The following excerpts from the database_integration :: class definition present a high level picture of the database specific components necessary for adding a new user account to the user base of a website.<br />
<br />
On line 59, the <a href="../../../classes/mysqli_conn_manager/processquery/" target="_self">processQuery()</a> method of the <a href="../../../classes/mysqli_conn_manager/" target="_self">mysqli_conn_manager</a> :: class is invoked. Due to the fact that no result is expected to be returned by the database, once it has been determined that no errors were experienced (line 60) in the execution of the query, the connection can be closed and BOOLEAN true returned to the requesting object (lines 66-67).</p><div id="example_scrollto_0" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://192.168.172.132/crnrstn/documentation/classes/mysqli_conn_manager/processquery/?ns=mysqli_conn_manager');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_8982b8d271b99d6eff55_0" class="code_wrapper"><div id="lineNum_1191803916" class="l_num">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br><span CLASS="code_comment">
/* </span><br><span CLASS="code_comment">
// J5</span><br>
<span CLASS="code_comment">// Code is Poetry */</span><br>
<br>
<span id="960a760d0d8d8b8f4803_850737376j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">class</span> database_integration {<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_1486823739j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j00000101607245719" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $oLogger;<br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_1812459197j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j00000101588630950" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $query;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_32422226j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001011668799942" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $query_elements;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_1325384656j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001011634332675" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $result;<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_591643258j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j00000101405934932" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $result_ARRAY = <span id="d3b3ef3a4ad62b6d8bdc_j000001012134433409" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span>();<br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_62142941j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="719dc38910f731c12940_j000001011628921159" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> $fieldName_ARRAY = <span id="d3b3ef3a4ad62b6d8bdc_j00000101547416105" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span>();<br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_989525235j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j000001011608116079" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> __construct() {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// INSTANTIATE LOGGER</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_291649038j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(!<span id="8a854f2276292f7697c0_j00000101502794957" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">isset</span>(self::$oLogger)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$oLogger = <span id="f109c58b6897e5839fe2_488013160j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> logging();<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="code_comment">#...etc.</span><br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// USER SERVICES REQUEST TO CREATE NEW USER</span><br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_522830174j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j000001011264539609" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> svc_creatNewUser($oUser, $oUserEnvironment){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="b0240c0e5329b517611f_1403019585j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> $this-&gt;dbQuery(<span class="code_str_qtd">'svc_creatNewUser'</span>, $oUserEnvironment, $oUser);<br>
<span CLASS="tab">&nbsp;</span>}<br>
<br>
<span CLASS="code_comment">#...etc.</span><br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><blockquote><br />
<br />
</blockquote><div id="example_scrollto_1" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://192.168.172.132/crnrstn/documentation/classes/mysqli_conn_manager/processquery/?ns=mysqli_conn_manager');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_8982b8d271b99d6eff55_1" class="code_wrapper"><div id="lineNum_283617042" class="l_num">34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PROCESS QUERY PER REQUEST</span><br>
<span CLASS="tab">&nbsp;</span><span id="02d8f1524c3ba5ffa677_1841278242j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span id="2a824b20b18cc45dbde0_j00000101866539076" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> dbQuery($queryType, $oUserEnvironment, $oUser){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="2b377a23c22576d4ae5a_1089115341j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">try</span>{<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$ts = <span id="d4830d469964080b55ca_506718719j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">date</span>(<span class="code_str_qtd">"Y-m-d H:i:s"</span>, <span id="0e7d9dc9993d0bba7c74_822688502j00000101" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">time</span>()-60*60*6);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$mysqli = $oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;returnConnection(<span class="code_str_qtd">'localhost'</span>, <span class="code_str_qtd">'crnrstn_stage'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e03b0e0956383a796e22_1484440288j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span>($queryType){<br>
<span CLASS="code_comment">#...etc.</span><br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="51b9236800eb72e9397c_1698522635j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_str_qtd">'svc_creatNewUser'</span>:<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PREPARE HASHES</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$seednum_full = <span id="772cf4336b215c014188_1673425878j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">md5</span>(<span id="008b62deb4978430e9f8_j00000101823780379" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strtolower</span>($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'USERNAME'</span>)));<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PREPARE QUERY</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$query = <span class="code_str_qtd">'INSERT INTO users (`USERNAME`,`USERID_SOURCE`,`USERNAME_CRC32`,`USERID`,`FIRSTNAME`,`LASTNAME`,`USERNAME_DISPLAY`,`EMAIL`,`EMAIL_CRC32`,`PWDHASH`,`LASTLOGIN`,`SESSION_PERSIST`,`DATEMODIFIED`) VALUES (&quot;'</span>.$mysqli-&gt;real_escape_string(<span id="008b62deb4978430e9f8_158284706j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strtolower</span>($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'USERNAME'</span>))).<span class="code_str_qtd">'&quot;,&quot;'</span>.$seednum_full.<span class="code_str_qtd">'&quot;,&quot;'</span>.<span id="87c448981000856c9ee5_1338401427j00000101" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">crc32</span>(<span id="008b62deb4978430e9f8_j000001011412411329" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strtolower</span>($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'USERNAME'</span>))).<span class="code_str_qtd">'&quot;,&quot;'</span>.<span id="87c448981000856c9ee5_190706933j00000101" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">crc32</span>($seednum_full).<span class="code_str_qtd">'&quot;,&quot;'</span>.$mysqli-&gt;real_escape_string($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'FIRSTNAME'</span>)).<span class="code_str_qtd">'&quot;,&quot;'</span>.$mysqli-&gt;real_escape_string($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'LASTNAME'</span>)).<span class="code_str_qtd">'&quot;,&quot;'</span>.$mysqli-&gt;real_escape_string($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'USERNAME'</span>)).<span class="code_str_qtd">'&quot;,&quot;'</span>.$mysqli-&gt;real_escape_string(<span id="008b62deb4978430e9f8_859717722j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strtolower</span>($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'EMAIL'</span>))).<span class="code_str_qtd">'&quot;,&quot;'</span>.<span id="87c448981000856c9ee5_590312337j00000101" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">crc32</span>(<span id="008b62deb4978430e9f8_j000001011825039608" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strtolower</span>($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'EMAIL'</span>))).<span class="code_str_qtd">'&quot;,&quot;'</span>.$oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'PWDHASH'</span>).<span class="code_str_qtd">'&quot;,&quot;'</span>.$ts.<span class="code_str_qtd">'&quot;,&quot;'</span>.$mysqli-&gt;real_escape_string($oUser-&gt;getReqParamByKey(<span class="code_str_qtd">'SESSION_PERSIST'</span>)).<span class="code_str_qtd">'&quot;,&quot;'</span>.$ts.<span class="code_str_qtd">'&quot;);'</span>;<br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PROCESS QUERY</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$result = $oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;processQuery($mysqli, self::$query);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_1451360980j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>($mysqli-&gt;error){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="6b7e9d5e9a9a8c5b887c_996247269j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">throw</span> <span id="f109c58b6897e5839fe2_j000001011811989369" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> Exception(<span class="code_str_qtd">'CRNRSTN database_integration :: '</span>.$queryType.<span class="code_str_qtd">' ERROR :: ['</span>.$mysqli-&gt;error.<span class="code_str_qtd">']'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<span id="e065810be95e4c37e63c_1513503921j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span>{<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// CLOSE CONNECTION</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;closeConnection($mysqli);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="b0240c0e5329b517611f_477684781j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> <span id="afe3cb60c79e68b66c77_j00000101211921827" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">true;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_355545508j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>default:<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// HOOOSTON...VE HAF PROBLEM!</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="6b7e9d5e9a9a8c5b887c_2085800860j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">throw</span> <span id="f109c58b6897e5839fe2_j00000101503570865" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> Exception(<span class="code_str_qtd">'Key provided for dbQuery() does not exist in the system.'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_858340465j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<span id="149d7ffebeb55ab05d07_426330372j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">catch</span>( Exception $e ) {<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// SEND THIS THROUGH THE LOGGER OBJECT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>self::$oLogger-&gt;captureNotice(<span class="code_str_qtd">'database_integration-&gt;dbQuery()'</span>, <span id="1167c87443e132c6048b_1026401040j00000101" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">LOG_EMERG</span>, $e-&gt;getMessage());<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;closeConnection($mysqli);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="b0240c0e5329b517611f_2122880074j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> <span id="9c13212eecace0e8b16a_j000001011829349957" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">false;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// IF WE GET THIS FAR...</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUserEnvironment-&gt;oMYSQLI_CONN_MGR-&gt;closeConnection($mysqli);<br>
<span CLASS="tab">&nbsp;</span>}<br>
<br>
<span CLASS="tab">&nbsp;</span><span id="a5a78fdbd379ad0fba15_1310018082j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span id="2a824b20b18cc45dbde0_j000001011816674668" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> __destruct() {<br>
<br>
<span CLASS="tab">&nbsp;</span>}<br>
}<br>
<br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><div class="example_title_wrapper"><code style="color:#FF0000;">Figure 23.</code></div><div class="cb_15"></div><div class="comment_tt_wrapper"><span id="960a760d0d8d8b8f4803_0589361001459923516j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">class</span> <span class="code_tt_space">&nbsp;</span><span id="02d8f1524c3ba5ffa677_0621204001459923516j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">private</span> <span class="code_tt_space">&nbsp;</span><span id="719dc38910f731c12940_j000001010626323001459923516" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">static</span> <span class="code_tt_space">&nbsp;</span><span id="d3b3ef3a4ad62b6d8bdc_j000001010821389001459923516" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">array</span> <span class="code_tt_space">&nbsp;</span><span id="a5a78fdbd379ad0fba15_0929612001459923516j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">public</span> <span class="code_tt_space">&nbsp;</span><span id="2a824b20b18cc45dbde0_j000001010931752001459923516" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">function</span> <span class="code_tt_space">&nbsp;</span><span id="e43e09b42c84b845c5a9_0145377001459923517j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> <span class="code_tt_space">&nbsp;</span><span id="8a854f2276292f7697c0_j000001010148868001459923517" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">isset</span> <span class="code_tt_space">&nbsp;</span><span id="f109c58b6897e5839fe2_0246419001459923517j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> <span class="code_tt_space">&nbsp;</span><span id="b0240c0e5329b517611f_0569819001459923517j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">return</span> <span class="code_tt_space">&nbsp;</span><span id="2b377a23c22576d4ae5a_0851117001459923517j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">try</span> <span class="code_tt_space">&nbsp;</span><span id="d4830d469964080b55ca_0932701001459923517j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">date</span> <span class="code_tt_space">&nbsp;</span><span id="0e7d9dc9993d0bba7c74_0937007001459923517j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">time</span> <span class="code_tt_space">&nbsp;</span><span id="e03b0e0956383a796e22_0124677001459923518j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span> <span class="code_tt_space">&nbsp;</span><span id="51b9236800eb72e9397c_0252761001459923518j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_tt_space">&nbsp;</span><span id="772cf4336b215c014188_0678555001459923518j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">md5</span> <span class="code_tt_space">&nbsp;</span><span id="008b62deb4978430e9f8_j000001010686814001459923518" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">strtolower</span> <span class="code_tt_space">&nbsp;</span><span id="87c448981000856c9ee5_0268115001459923519j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">crc32</span> <span class="code_tt_space">&nbsp;</span><span id="6b7e9d5e9a9a8c5b887c_0105912001459923520j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">throw</span> <span class="code_tt_space">&nbsp;</span><span id="e065810be95e4c37e63c_0417368001459923520j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span> <span class="code_tt_space">&nbsp;</span><span id="afe3cb60c79e68b66c77_j000001010243107001459923521" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">true;</span> <span class="code_tt_space">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_0472351001459923521j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span> <span class="code_tt_space">&nbsp;</span><span id="149d7ffebeb55ab05d07_0275071001459923522j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">catch</span> <span class="code_tt_space">&nbsp;</span><span id="1167c87443e132c6048b_0595931001459923522j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">LOG_EMERG</span> <span class="code_tt_space">&nbsp;</span><span id="9c13212eecace0e8b16a_j000001010784268001459923522" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">false;</span> <span class="code_tt_space">&nbsp;</span></div><div class="cb_15"></div></body></html>