<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>CRNRSTN :: Code Example</title></head><body><p>Each hosting environment is added to the C<span class="the_R">R</span>NRSTN Suite :: beginning at line 39 (below). The initialization of each hosting environment (from localhost/development to production) requires a custom $environmentKey and an error reporting profile.</p><div id="crnrstn_ae638868c63f0bc5f9e2_0" class="code_wrapper"><div id="lineNum_1741241526" class="l_num">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br><span CLASS="code_comment">
/*</span><br><span CLASS="code_comment">
// J5</span><br>
<span CLASS="code_comment">// Code is Poetry */</span><br>
<span id="e43e09b42c84b845c5a9_858539085j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> ( ! <span id="5b8a6983a64cb31813de_j000001012117370918" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">session_id</span>() ) @ <span id="6c399a691382212fff05_j000001011165364591" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">session_start</span>();<br>
<br>
<span CLASS="code_comment"># THE CRNRSTN SUITE :: STACK OF CLASS DEFINITIONS</span><br>
<span id="b7a73b3bf3e58d97abca_1021808014j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>(<span class="code_str_qtd">'./_crnrstn.root.inc.php'</span>);<br>
<span id="b7a73b3bf3e58d97abca_1064093577j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/crnrstn/crnrstn.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// CRNRSTN</span><br>
<span id="b7a73b3bf3e58d97abca_650341696j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/logging/crnrstn.log.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// LOGGING</span><br>
<span id="b7a73b3bf3e58d97abca_691323397j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/environmentals/crnrstn.env.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// ENVIRONMENTALS</span><br>
<span id="b7a73b3bf3e58d97abca_1959788306j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/security/crnrstn.ipauthmgr.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// SECURITY</span><br>
<span id="b7a73b3bf3e58d97abca_1392796814j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/database/mysqli/crnrstn.mysqli.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// DATABASE</span><br>
<span id="b7a73b3bf3e58d97abca_587164467j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/soa/nusoap/nusoap.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// NUSOAP (3RD PARTY CLIENT/SERVER SOAP)</span><br>
<span id="b7a73b3bf3e58d97abca_514676106j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/soa/nusoap/class.wsdlcache.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// NUSOAP (3RD PARTY CLIENT/SERVER SOAP)</span><br>
<span id="b7a73b3bf3e58d97abca_1357263193j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/soa/crnrstn.soap.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// SOAP MANAGEMENT</span><br>
<span id="b7a73b3bf3e58d97abca_459450384j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/session/crnrstn.session.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// SESSION MANAGEMENT</span><br>
<span id="b7a73b3bf3e58d97abca_1351562802j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/session/crnrstn.cookie.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// COOKIE MANAGEMENT</span><br>
<span id="b7a73b3bf3e58d97abca_306541582j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'/_crnrstn/class/session/crnrstn.http.inc.php'</span>);<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// HTTP MANAGEMENT</span><br>
<br>
<span CLASS="code_comment">//</span><br>
<span CLASS="code_comment">// INITIALIZE DEBUG MODE PARAMETER [0=OFF, 1=ON]</span><br>
$CRNRSTN_debugMode = 1; <br>
<br>
<span CLASS="code_comment">//</span><br>
<span CLASS="code_comment">// INSTANTIATE AN INSTANCE OF CRNRSTN BY PASSING A CONFIGURATION </span><br>
<span CLASS="code_comment">// SERIALIZATION STRING THAT WIIL BE UNIQUE TO THIS CONFIGURATION FILE AND</span><br>
<span CLASS="code_comment">// THE DEBUG MODE INTEGER (CRNRSTN_debugMode), WHERE 0=OFF AND 1=DEBUG ON.</span><br>
<span CLASS="code_comment">// IF YOU ARE RUNNING MULTIPLE CRNRSTN CONFIG FILES WITHIN YOUR WEB </span><br>
<span CLASS="code_comment">// APPLICATION, MAKE THE FIRST PARAMETER TO BE UNIQUE PER EACH CONFIG </span><br>
<span CLASS="code_comment">// FILE TO PREVENT RESOURCE CONTENTION WITHIN $_SESSION[ ].</span><br>
$oCRNRSTN = <span id="f109c58b6897e5839fe2_1179158127j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> crnrstn(<span class="code_str_qtd">'RrI5nh3'</span>, $CRNRSTN_debugMode);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
</code></div></div><blockquote>Now that the crnrstn :: class object has been instantiated (line 28 above), let's add the environmental profiles for every server upon which the application will be running. The C<span class="the_R">R</span>NRSTN Suite :: will perform the detection of environment in real-time based upon matches between the $_SERVER super global predefined constants and matching keys. These keys will be configured in the C<span class="the_R">R</span>NRSTN Suite :: through the invocation of <a href="../../../classes/crnrstn/defineenvresource/" target="_self">definEnvResource()</a> later on in the configuration file.</blockquote><div id="crnrstn_ae638868c63f0bc5f9e2_1" class="code_wrapper"><div id="lineNum_1911102428" class="l_num">36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br><br><br><br><br></div><div class="code_shell"><code>
<span CLASS="code_comment">//</span><br>
<span CLASS="code_comment">// CONFIGURE CRNRSTN FOR THE FOLLOWING HOSTING ENVIRONMENTS, AND ASSIGN </span><br>
<span CLASS="code_comment">// SPECIFIED ERROR LEVEL CONSTANTS FOR ERROR REPORTING PROFILE</span><br>
$oCRNRSTN-&gt;addEnvironment(<span class="code_str_qtd">'LOCALHOST_MY_OLD_MAC_TOWER'</span>, <span id="b340155e95c6efe29beb_647716222j00000101" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_ALL</span> &amp; ~<span id="5340722603173e83b56b_j000001011223414695" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_NOTICE</span>);<br>
$oCRNRSTN-&gt;addEnvironment(<span class="code_str_qtd">'PREPROD'</span>, <span id="b340155e95c6efe29beb_819480877j00000101" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_ALL</span> &amp; ~<span id="5340722603173e83b56b_j000001011843318008" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_NOTICE</span>);<br>
$oCRNRSTN-&gt;addEnvironment(<span class="code_str_qtd">'STAGE'</span>, <span id="b340155e95c6efe29beb_379448030j00000101" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_ALL</span> &amp; ~<span id="5340722603173e83b56b_j000001011654705050" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_NOTICE</span> &amp; ~<span id="677c6f7f346ee775bcd5_j00000101904123422" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_STRICT</span>);<br>
$oCRNRSTN-&gt;addEnvironment(<span class="code_str_qtd">'PROD_01'</span>, <span id="b340155e95c6efe29beb_1647985053j00000101" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_ALL</span> &amp; ~<span id="be48e4758132952ab363_j000001011310163757" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_DEPRECATED</span> &amp; ~<span id="677c6f7f346ee775bcd5_j000001011262381033" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_STRICT</span>);<br>
$oCRNRSTN-&gt;addEnvironment(<span class="code_str_qtd">'LOCALHOST_PC'</span>, <span id="b340155e95c6efe29beb_1198516894j00000101" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_ALL</span> &amp; ~<span id="5340722603173e83b56b_j000001012099195245" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_NOTICE</span> &amp; ~<span id="677c6f7f346ee775bcd5_j00000101537169488" class="code_system_constants" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_STRICT</span>);<br>
<br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><blockquote>To see a complete example of the C<span class="the_R">R</span>NRSTN Suite :: configuration file, click <a href="../../../classes/environmentals/" target="_self">here</a>. For a more tutorial-ish presentation of the progression through the same, click <a href="../../../classes/crnrstn/adddatabase/" target="_self">here</a> for documentation and examples covering the next few lines.</blockquote><div strlen="11141" class="example_title_wrapper"><code style="color:#FF0000;">Figure 4.</code></div><div class="cb_15"></div><div class="comment_tt_wrapper"><span id="e43e09b42c84b845c5a9_0993831001529261921j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> <span class="code_tt_space">&nbsp;</span><span id="5b8a6983a64cb31813de_j000001010994088001529261921" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">session_id</span> <span class="code_tt_space">&nbsp;</span><span id="6c399a691382212fff05_j000001010995020001529261921" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">session_start</span> <span class="code_tt_space">&nbsp;</span><span id="b7a73b3bf3e58d97abca_0003229001529261922j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span> <span class="code_tt_space">&nbsp;</span><span id="f109c58b6897e5839fe2_0261796001529261922j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> <span class="code_tt_space">&nbsp;</span><span id="b340155e95c6efe29beb_0296951001529261922j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_ALL</span> <span class="code_tt_space">&nbsp;</span><span id="5340722603173e83b56b_j000001010298450001529261922" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_NOTICE</span> <span class="code_tt_space">&nbsp;</span><span id="677c6f7f346ee775bcd5_j000001010306405001529261922" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_STRICT</span> <span class="code_tt_space">&nbsp;</span><span id="be48e4758132952ab363_j000001010310344001529261922" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">E_DEPRECATED</span> <span class="code_tt_space">&nbsp;</span></div><div class="cb_15"></div></body></html>