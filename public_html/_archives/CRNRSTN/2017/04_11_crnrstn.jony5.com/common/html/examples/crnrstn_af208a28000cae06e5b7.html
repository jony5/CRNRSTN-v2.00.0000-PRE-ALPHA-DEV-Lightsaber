<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>CRNRSTN :: Code Example</title></head><body><p>A <a href="../../../classes/http_manager/" target="_self">http_manager</a> :: class object can also be instantiated separate and apart from the <a href="../../../classes/environmentals/" target="_self">environmentals</a> :: class object when it is needed. Here in this example, a locally instantiated <a href="../../../classes/http_manager/" target="_self">http_manager</a> :: class object (lines 13-15) invokes the <a href="../../../classes/http_manager/issetparam/" target="_self">issetParam()</a> method on line 32 in order to determine whether or not to customize the response to a users' attempt to authenticate. If a mobile device is present, a special experience can be created for that.</p><div id="example_scrollto_0" class="example_scrollto" onClick="initScrollTo_lnk(this,'http://192.168.172.135/crnrstn/crnrstn/documentation/classes/http_manager/issetparam/?ns=http_manager#');"><a href="#" target="_self">Link</a>.</div><div id="crnrstn_af208a28000cae06e5b7_0" class="code_wrapper"><div id="lineNum_982523221" class="l_num">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br><span CLASS="code_comment">
/*</span><br><span CLASS="code_comment">
// J5</span><br>
<span CLASS="code_comment">// Code is Poetry */</span><br>
<br>
<span id="b7a73b3bf3e58d97abca_1527888794j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>(<span class="code_str_qtd">'./_crnrstn.root.inc.php'</span>);<span CLASS="tab">&nbsp;</span> <span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PATH...i.e. &lt;?php $ROOT=&quot;../&quot;; ? &gt; </span><br>
<span id="b7a73b3bf3e58d97abca_2118092820j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($ROOT.<span class="code_str_qtd">'_crnrstn.config.inc.php'</span>);<span CLASS="tab">&nbsp;</span> <span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// CRNRSTN CONFIGURATION FILE</span><br>
<span id="b7a73b3bf3e58d97abca_250776011j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($ROOT.<span class="code_str_qtd">'user.inc.php'</span>);<span CLASS="tab">&nbsp;</span> <span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// CUSTOM USER :: CLASS DEFINITION</span><br>
<span id="b7a73b3bf3e58d97abca_308295427j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($ROOT.<span class="code_str_qtd">'database.inc.php'</span>);<span CLASS="tab">&nbsp;</span> <span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// CUSTOM DATABASE INTEGRATION :: CLASS DEFINITION</span><br>
<br>
<span CLASS="code_comment">//</span><br>
<span CLASS="code_comment">// INSTANTIATE CRNRSTN HTTP_MANAGER CLASS OBJECT TO PROCESS FORM SUBMISSION</span><br>
<span id="e43e09b42c84b845c5a9_271807651j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(!<span id="8a854f2276292f7697c0_j00000101712064078" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">isset</span>($oHTTP_MGR)){<br>
<span CLASS="tab">&nbsp;</span>$oHTTP_MGR = <span id="f109c58b6897e5839fe2_690680756j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> crnrstn_http_manager();<br>
}<br>
<br>
<span CLASS="code_comment">//</span><br>
<span CLASS="code_comment">// CHECK FOR DATA IN HTTP POST METHOD REQUEST TYPE</span><br>
<span id="e43e09b42c84b845c5a9_1253822317j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>($oHTTP_MGR-&gt;issetHTTP(<span id="cf15b07c236d3fcbcfd6_j00000101324611750" class="code_html_doc_type_tag" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_POST</span>)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// THERE IS POST DATA TO PROCESS. IS THE POSTID SET</span><br>
<span CLASS="tab">&nbsp;</span><span id="e03b0e0956383a796e22_838639658j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span>($oHTTP_MGR-&gt;extractData(<span id="cf15b07c236d3fcbcfd6_j000001012009157717" class="code_html_doc_type_tag" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_POST</span>,<span class="code_str_qtd">'postid'</span>)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="51b9236800eb72e9397c_2028510231j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_str_qtd">'login_main'</span>:<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// INITIALIZE USER WITH ENVIRONMENTALS CRNRSTN :: CLASS OBJECT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_803934311j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(!<span id="8a854f2276292f7697c0_j0000010111777351" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">isset</span>($oUSER)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUSER = <span id="f109c58b6897e5839fe2_1006492843j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> user($oENV);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// CHECK FOR PRESENCE OF HTTP $_GET MOBILE INDICATOR</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_66791489j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>($oHTTP_MGR-&gt;issetParam(<span id="c8b33cda68d167bedb18_j000001011605213603" class="code_html_doc_type_tag" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_GET</span>,<span class="code_str_qtd">'mobile'</span>)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// SET LANDING PAGE TO MOBILE DEVICE COMPATIBLE DESTINATION</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>$oUSER-&gt;setLandingPage(<span class="code_str_qtd">'/m/'</span>);<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// PROCESS LOGIN ATTEMPT (WEB SERVICES)</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="e43e09b42c84b845c5a9_1472969077j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>($oUSER-&gt;login()){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// WE HAVE A VALID LOGIN ATTEMPT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_1510345030j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> $oUSER-&gt;successMessage;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<span id="e065810be95e4c37e63c_2139454805j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span>{<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// BAD USERNAME OR PASSWORD IN LOGIN ATTEMPT</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_1963071494j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> $oUSER-&gt;errorMessage;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_1693386808j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span>}<br>
}<br>
<br>
<span class="code_str_qtd">?&gt;</span><br>
</code></div></div><blockquote>See the C<span class="the_R">R</span>NRSTN <a href="../../../classes/soap_manager/" target="_self">soap_manager</a> :: class for a more thorough presentation of the web services specific classes/services used to support the use case scenario presented in this example.<br />
<br />
There is a custom database_integration :: class which also supports this use case scenario. The high level documentation/example can be found under the <a href="../../../classes/mysqli_conn_manager/" target="_self">mysqli_conn_manager</a> :: class objects' <a href="../../../classes/mysqli_conn_manager/closeconnection/" target="_self">closeConnection()</a> method <a href="../../../classes/mysqli_con_manager/closeconnection/" target="_self">here</a>, and the database_integration :: class definition can be found in its entirety <a href="../../../classes/mysqli_conn_manager/" target="_self">here</a>.</blockquote><div class="example_title_wrapper"><code style="color:#FF0000;">Figure 22.</code></div><div class="cb_15"></div><div class="comment_tt_wrapper"><span id="b7a73b3bf3e58d97abca_0203164001462262524j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span> <span class="code_tt_space">&nbsp;</span><span id="e43e09b42c84b845c5a9_0502250001462262524j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> <span class="code_tt_space">&nbsp;</span><span id="8a854f2276292f7697c0_j000001010503694001462262524" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">isset</span> <span class="code_tt_space">&nbsp;</span><span id="f109c58b6897e5839fe2_0518807001462262524j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">new</span> <span class="code_tt_space">&nbsp;</span><span id="cf15b07c236d3fcbcfd6_j000001010557724001462262524" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_POST</span> <span class="code_tt_space">&nbsp;</span><span id="e03b0e0956383a796e22_0621408001462262524j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span> <span class="code_tt_space">&nbsp;</span><span id="51b9236800eb72e9397c_0644554001462262524j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_tt_space">&nbsp;</span><span id="c8b33cda68d167bedb18_j000001010982537001462262524" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">$_GET</span> <span class="code_tt_space">&nbsp;</span><span id="d5086e9d793d631ffdc3_0411933001462262525j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_tt_space">&nbsp;</span><span id="e065810be95e4c37e63c_0480731001462262525j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span> <span class="code_tt_space">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_0706531001462262525j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span> <span class="code_tt_space">&nbsp;</span></div><div class="cb_15"></div></body></html>