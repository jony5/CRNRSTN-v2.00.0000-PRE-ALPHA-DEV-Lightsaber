<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>CRNRSTN :: Code Example</title></head><body><p>On line 21 of the code example below, we invoke the getSessionParam() method of the C<span class="the_R">R</span>NRSTN Suite :: session_manager :: class object. The data contained therein is used in a switch statement to direct the further handling of the end user experience.</p><div id="crnrstn_b995eb2f380fbc46b006_0" class="code_wrapper"><div id="lineNum_1700140320" class="l_num">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br><br><br><br><br></div><div class="code_shell"><code>
<span class="code_str_qtd">&lt;?php</span><br><span CLASS="code_comment">
/*</span><br><span CLASS="code_comment">
// J5</span><br>
<span CLASS="code_comment">// Code is Poetry */</span><br>
<span id="b7a73b3bf3e58d97abca_951668999j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>(<span class="code_str_qtd">'./_crnrstn.root.inc.php'</span>); <br>
<span id="b7a73b3bf3e58d97abca_121046313j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span>($CRNRSTN_ROOT.<span class="code_str_qtd">'_crnrstn.config.inc.php'</span>);  <span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// THE CRNRSTN SUITE :: CONFIGURATION FILE</span><br>
<br>
<span id="e43e09b42c84b845c5a9_1607122703j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span>(!$oCRNRSTN_ENV-&gt;oSESSION_MGR-&gt;issetSessionParam(<span class="code_str_qtd">"USER_SIGNON_STATUS"</span>)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// IF NOT SET, USER IS NOT LOGGED IN</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// DO SOMETHING WITH NON-AUTHENTICATED USER</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//$oCRNRSTN_ENV-&gt;returnSrvrRespStatus(403);</span><br>
<span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_2023402021j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">"&lt;br&gt;USER_SIGNON_STATUS is not set. &lt;br&gt;"</span>;<br>
<span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// LETS SET USER_SIGNON_STATUS TO &quot;NEWUSER&quot;</span><br>
<span CLASS="tab">&nbsp;</span>$oCRNRSTN_ENV-&gt;oSESSION_MGR-&gt;setSessionParam(<span class="code_str_qtd">"USER_SIGNON_STATUS"</span>,<span class="code_str_qtd">"NEWUSER"</span>);<br>
}<span id="e065810be95e4c37e63c_1212325621j00000101" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span>{<br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// WE HAVE SIGN ON STATUS. PROCESS.</span><br>
<span CLASS="tab">&nbsp;</span><span id="e03b0e0956383a796e22_1678058007j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span>($oCRNRSTN_ENV-&gt;oSESSION_MGR-&gt;getSessionParam(<span class="code_str_qtd">"USER_SIGNON_STATUS"</span>)){<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="51b9236800eb72e9397c_184164904j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_str_qtd">"ACTIVE"</span>:<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// WE HAVE AN AUTHENTICATED USER</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// MAVBE REDIRECT THEM TO THE ACCOUNT HOME PAGE</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_1186637684j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">"&lt;br&gt;USER_SIGNON_STATUS is ACTIVE&lt;br&gt;"</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_1773498603j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span>default:<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">//</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// WE HAVE AN EXPIRED OR INVALID SIGNON STATUS</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="code_comment">// MAYBE DESTROY SESSION AND REDIRECT TO LOGIN PAGE</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d5086e9d793d631ffdc3_553999918j000001011" class="code_sysfunc_call" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_str_qtd">"&lt;br&gt;USER_SIGNON_STATUS is expired or invalid ["</span>.$oCRNRSTN_ENV-&gt;oSESSION_MGR-&gt;getSessionParam(<span class="code_str_qtd">"USER_SIGNON_STATUS"</span>).<span class="code_str_qtd">"]&lt;br&gt;"</span>;<br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_899312991j000001011" class="code_log_exp" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span><br>
<span CLASS="tab">&nbsp;</span><span CLASS="tab">&nbsp;</span><br>
<span CLASS="tab">&nbsp;</span>}<br>
<span CLASS="tab">&nbsp;</span><br>
}<br>
<br>
<span class="code_str_qtd">?&gt;</span><br>
<br>
</code></div></div><div strlen="5940" class="example_title_wrapper"><code style="color:#FF0000;">Figure 38.</code></div><div class="cb_15"></div><div class="comment_tt_wrapper"><span id="b7a73b3bf3e58d97abca_0577785001528814807j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">require</span> <span class="code_tt_space">&nbsp;</span><span id="e43e09b42c84b845c5a9_0593598001528814807j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">if</span> <span class="code_tt_space">&nbsp;</span><span id="d5086e9d793d631ffdc3_0634728001528814807j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">echo</span> <span class="code_tt_space">&nbsp;</span><span id="e065810be95e4c37e63c_0655652001528814807j00000101" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">else</span> <span class="code_tt_space">&nbsp;</span><span id="e03b0e0956383a796e22_0674817001528814807j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">switch</span> <span class="code_tt_space">&nbsp;</span><span id="51b9236800eb72e9397c_0681800001528814807j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">case</span> <span class="code_tt_space">&nbsp;</span><span id="d0ded82fb167bc6b8ca4_0744475001528814807j000001011" class="tt_agg_extract" onMouseOver="ttMsOvr(this);" onMouseOut="ttMsOut(this);">break;</span> <span class="code_tt_space">&nbsp;</span></div><div class="cb_15"></div></body></html>